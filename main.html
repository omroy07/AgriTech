<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="icon" type="image/png" href="images/logo.png">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
  <meta name="description" content="AgriTech - Empowering Agriculture Through Technology." />
  <title>AgriTech Dashboard</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="/AgriTech/images/logo.png" />

  <!-- CSS -->
  <link rel="stylesheet" href="main.css" />
  <link rel="stylesheet" href="theme.css" />

  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />

  <!-- SweetAlert2 -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body>
  <!-- REDESIGNED NAVBAR -->
  <header class="main-navbar">
    <div class="navbar-container">
      <!-- Left: Brand -->
      <div class="navbar-left">
        <div class="brand">
          <img src="images/logo.png" alt="AgriTech logo" class="site-logo">
          <h2>AgriTech</h2>
        </div>
      </div>

      <!-- Right: Controls -->
      <div class="navbar-right">
        <!-- Search -->
        <div class="search-container">
          <input type="text" placeholder="Search..." class="search-input" />
          <button class="search-button">
            <i class="fas fa-search"></i>
          </button>
        </div>

        <!-- Action Buttons -->
        <div class="navbar-actions">
          <a href="cropCalendar.html" class="nav-btn calendar-btn" title="Calendar">
            <i class="fas fa-calendar-alt"></i>
            <span class="btn-text">Calendar</span>
          </a>

          <a href="feed-back.html" class="nav-btn feedback-btn" title="Feedback">
            <i class="fas fa-comment-dots"></i>
            <span class="btn-text">Feedback</span>
          </a>

          <a href="#" class="nav-btn logout-btn" onclick="showLogoutConfirmation()" title="Logout">
            <i class="fas fa-sign-out-alt"></i>
            <span class="btn-text">Logout</span>
          </a>

          <button class="theme-toggle" title="Toggle theme">
            <i class="fas fa-sun sun-icon"></i>
            <i class="fas fa-moon moon-icon"></i>
          </button>
        </div>

        <!-- Mobile Menu Toggle -->
        <button class="mobile-menu-toggle" onclick="toggleMobileMenu()" aria-label="Toggle menu">
          <i class="fas fa-bars"></i>
        </button>
      </div>
    </div>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu" id="mobileMenu">
      <div class="mobile-search">
        <input type="text" placeholder="Search..." class="search-input" />
        <button class="search-button">
          <i class="fas fa-search"></i>
        </button>
      </div>

      <nav class="mobile-nav">
        <a href="cropCalendar.html" class="mobile-nav-item">
          <i class="fas fa-calendar-alt"></i>
          <span>Calendar</span>
        </a>
        <a href="feed-back.html" class="mobile-nav-item">
          <i class="fas fa-comment-dots"></i>
          <span>Feedback</span>
        </a>
        <a href="#" class="mobile-nav-item" onclick="showLogoutConfirmation()">
          <i class="fas fa-sign-out-alt"></i>
          <span>Logout</span>
        </a>
      </nav>
    </div>
  </header>

  <!-- Main Section -->
  <main>
    <!-- Services Mega Menu -->
    <div class="services-menu-container">
      <button id="servicesMenuBtn" class="services-menu-btn">
        <i class="fas fa-th-large"></i> Services
        <i class="fas fa-chevron-down dropdown-icon"></i>
      </button>

      <div id="servicesMegaMenu" class="services-mega-menu">
        <div class="mega-menu-content">
          <!-- Crop Tools Section -->
          <div class="mega-menu-category">
            <h3><i class="fas fa-seedling"></i> Crop Tools</h3>
            <ul>
              <li><a href="/crop"><i class="fas fa-leaf"></i> Crop Recommendation</a></li>
              <li><a href="/yield"><i class="fas fa-chart-line"></i> Yield Prediction</a></li>
              <li><a href="disease.html"><i class="fas fa-bug"></i> Disease Prediction</a></li>
              <li><a href="organic.html"><i class="fas fa-spa"></i> Organic Farming</a></li>
            </ul>
          </div>

          <!-- Community Section -->
          <div class="mega-menu-category">
            <h3><i class="fas fa-users"></i> Community</h3>
            <ul>
              <li><a href="farmer.html"><i class="fas fa-network-wired"></i> Farmer Network</a></li>
              <li><a href="chat.html"><i class="fas fa-robot"></i> AI ChatBot</a></li>
              <li><a href="shopkeeper.html"><i class="fas fa-store"></i> Shopkeeper Listings</a></li>
            </ul>
          </div>

          <!-- Planning Section -->
          <div class="mega-menu-category">
            <h3><i class="fas fa-calendar-check"></i> Planning</h3>
            <ul>
              <li><a href="Crop_Planning/templates/cropplan.html"><i class="fas fa-project-diagram"></i> Crop Planning</a></li>
              <li><a href="Labour_Alerts/templates/labour.html"><i class="fas fa-bell"></i> Labour Alerts</a></li>
              <li><a href="plantation.html"><i class="fas fa-tree"></i> Plantation Guide</a></li>
            </ul>
          </div>

          <!-- Weather Section -->
          <div class="mega-menu-category">
            <h3><i class="fas fa-cloud-sun"></i> Weather</h3>
            <ul>
              <li><a href="weather.html"><i class="fas fa-thermometer-half"></i> Weather Check</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="section-title">
      <h2>Comprehensive Agricultural Solutions</h2>
      <p>
        Explore our cutting-edge tools designed to revolutionize your farming
        experience with AI-powered insights and community collaboration.
      </p>
    </div>

    <!-- Grid Section (Cards) -->
    <section class="grid-container">
      <a href="/crop" class="grid-item">
        <img src="images/crop.avif" alt="Crop Recommendation" loading="lazy" />
        <div class="grid-item-content">
          <h3>Crop Recommendation</h3>
          <p>Find the best crop to cultivate based on your soil and weather conditions using advanced AI algorithms.</p>
          <div class="grid-item-footer">
            <span class="feature-badge">AI Powered</span>
            <span class="arrow-icon">‚Üí</span>
          </div>
        </div>
      </a>

      <a href="/yield" class="grid-item">
        <img src="images/yield.avif" alt="Yield Prediction" loading="lazy" />
        <div class="grid-item-content">
          <h3>Yield Prediction</h3>
          <p>Predict the expected yield for different crops using advanced machine learning models and historical data.</p>
          <div class="grid-item-footer">
            <span class="feature-badge">ML Analytics</span>
            <span class="arrow-icon">‚Üí</span>
          </div>
        </div>
      </a>

      <a href="disease.html" class="grid-item">
        <img src="images/disease.avif" alt="Disease Prediction" loading="lazy" />
        <div class="grid-item-content">
          <h3>Disease Prediction</h3>
          <p>Detect plant diseases early and get preventive measures and treatment advice to protect your crops.</p>
          <div class="grid-item-footer">
            <span class="feature-badge">Early Detection</span>
            <span class="arrow-icon">‚Üí</span>
          </div>
        </div>
      </a>

      <a href="organic.html" class="grid-item">
        <img src="images/organic.jpg" alt="Organic Farming Guide" loading="lazy" />
        <div class="grid-item-content">
          <h3>Organic Farming Guide</h3>
          <p>Learn sustainable organic practices‚Äîfrom soil preparation to eco-friendly pest control and certification processes.</p>
          <div class="grid-item-footer">
            <span class="feature-badge">Sustainable</span>
            <span class="arrow-icon">‚Üí</span>
          </div>
        </div>
      </a>

      <a href="weather.html" class="grid-item">
        <img src="images/weather.webp" alt="Weather check" loading="lazy" />
        <div class="grid-item-content">
          <h3>Weather Check</h3>
          <p>Check current weather of your place and weather for upcoming hours and days to plan your farming practices.</p>
          <div class="grid-item-footer">
            <span class="feature-badge">Real-time</span>
            <span class="arrow-icon">‚Üí</span>
          </div>
        </div>
      </a>

      <a href="farmer.html" class="grid-item">
        <img src="images/farmer.avif" alt="Farmer Connection" loading="lazy" />
        <div class="grid-item-content">
          <h3>Farmer Connection</h3>
          <p>Connect with fellow farmers, share experiences, and access resources to improve your farming practices.</p>
          <div class="grid-item-footer">
            <span class="feature-badge">Community</span>
            <span class="arrow-icon">‚Üí</span>
          </div>
        </div>
      </a>

      <a href="shopkeeper.html" class="grid-item">
        <img src="images/shopkeeper.avif" alt="Shopkeeper Listings" loading="lazy" />
        <div class="grid-item-content">
          <h3>Shopkeeper Listings</h3>
          <p>Discover local shopkeepers offering quality agricultural products and services tailored to your needs.</p>
          <div class="grid-item-footer">
            <span class="feature-badge">Local Network</span>
            <span class="arrow-icon">‚Üí</span>
          </div>
        </div>
      </a>

      <a href="chat.html" class="grid-item">
        <img src="images/Community.jpg" alt="Community Chat" loading="lazy" />
        <div class="grid-item-content">
          <h3>AI ChatBot</h3>
          <p>Get instant answers to your farming questions with our intelligent chatbot. Cultivating Knowledge, Harvesting Growth.</p>
          <div class="grid-item-footer">
            <span class="feature-badge">24/7 Support</span>
            <span class="arrow-icon">‚Üí</span>
          </div>
        </div>
      </a>

      <a href="plantation.html" class="grid-item">
        <img src="images/Plantation.avif" alt="Plantation Guidance" loading="lazy" />
        <div class="grid-item-content">
          <h3>Plantation Guidance</h3>
          <p>Receive expert advice on plantation techniques, crop selection, and sustainable farming methods.</p>
          <div class="grid-item-footer">
            <span class="feature-badge">Expert Tips</span>
            <span class="arrow-icon">‚Üí</span>
          </div>
        </div>
      </a>

      <a href="Crop_Planning/templates/cropplan.html" class="grid-item">
        <img src="images/Cropplan.jpg" alt="Crop Planning" loading="lazy" />
        <div class="grid-item-content">
          <h3>Crop Planning</h3>
          <p>Plan your season with confidence and unlock your farm's true potential for a more profitable and sustainable future.</p>
          <div class="grid-item-footer">
            <span class="feature-badge">Strategic</span>
            <span class="arrow-icon">‚Üí</span>
          </div>
        </div>
      </a>

      <a href="Labour_Alerts/templates/labour.html" class="grid-item">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcStjJBgIGmDDh6NzJSUF8AmM_TuDO_MEPiOIA&s" alt="Schedule Labour & Alerts" loading="lazy" />
        <div class="grid-item-content">
          <h3>Labour Scheduling & Alerts</h3>
          <p>Receive real-world updates related to weather, jobs, government subsidies and more to optimize your operations.</p>
          <div class="grid-item-footer">
            <span class="feature-badge">Real-time</span>
            <span class="arrow-icon">‚Üí</span>
          </div>
        </div>
      </a>

      <a href="Forum/forum.html" class="grid-item">
        <img src="https://cdn-icons-png.flaticon.com/512/3063/3063826.png" alt="Farmer Forum" loading="lazy" style="width:100%; height:200px; object-fit:cover; border-radius:8px;" />
        <div class="grid-item-content">
          <h3>Farmer Forum</h3>
          <p>Connect with other farmers, share advice, and discuss tips for improving yields and efficiency.</p>
          <div class="grid-item-footer">
            <span class="feature-badge">Community</span>
            <span class="arrow-icon">‚Üí</span>
          </div>
        </div>
      </a>

      <a href="Crop_Prices_Tracker/templates/crop_price_tracker.html" class="grid-item">
        <img src="https://d3nn873nee648n.cloudfront.net/900x600/10734/14-SP305920.jpg" alt="Crop Price Tracker" loading="lazy" />
        <div class="grid-item-content">
          <h3>Crop Price Tracker</h3>
          <p>Track real-time mandi prices for crops across states and markets to make informed selling decisions.</p>
          <div class="grid-item-footer">
            <span class="feature-badge">Market Data</span>
            <span class="arrow-icon">‚Üí</span>
          </div>
        </div>
      </a>

      <a href="Gov_schemes/index_scheme.html" class="grid-item">
        <img src="images/Scheme.jpg" alt="Farmer Forum" loading="lazy" style="width:100%; height:200px; object-fit:cover; border-radius:8px;" />
        <div class="grid-item-content">
          <h3>Schemes</h3>
          <p>Government schemes provide farmers with financial support, subsidies, insurance, and resources to boost productivity, sustainability, and income.</p>
          <div class="grid-item-footer">
            <span class="feature-badge">Scheme</span>
            <span class="arrow-icon">‚Üí</span>
          </div>
        </div>
      </a>
    </section>

    <!-- Loan Guide Section -->
    <div class="container">
      <header class="loan-guide-header">
        <h1>Smart Loan Guide for Farmers</h1>
        <p>Select the type of loan you want to apply for:</p>
      </header>

      <div class="loan-cards">
        <div class="loan-card" data-type="crop">
          <img src="https://5.imimg.com/data5/SELLER/Default/2024/2/389292204/CR/MJ/TT/191214086/fresh-wheat-crop.webp" alt="Crop Cultivation">
          <span>Crop Cultivation</span>
        </div>
        <div class="loan-card" data-type="equipment">
          <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT1DzqFJ-uX4N9Hm1AO-o88YUgG40sl6WPJTg&s" alt="Farm Equipment">
          <span>Farm Equipment</span>
        </div>
        <div class="loan-card" data-type="water">
          <img src="https://img-cdn.publive.online/fit-in/1200x675/filters:format(webp)/saur-energy/media/post_attachments/2017/06/Solar-Pump-Irrigators.jpg" alt="Water Source">
          <span>Water Source Development</span>
        </div>
        <div class="loan-card" data-type="land">
          <img src="https://genuineplots.com/images/propertytype/featured1-compressed.jpg" alt="Land Purchase">
          <span>Land Purchase</span>
        </div>
      </div>

      <section id="loan-guide" class="loan-guide-section">
        <h2>Smart Loan Eligibility Guide</h2>
        <p>Get step-by-step assistance for applying for agricultural loans.</p>
        <div style="margin-top: 20px;">
          <a href="smart_loan.html" class="btn-green" id="goLoanGuide" style="margin-right: 20px;">Go to Smart Loan Guide</a>
          <label for="languageSelect">Language:</label>
          <select id="languageSelect" class="language-select">
            <option value="en">English</option>
            <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
          </select>
          <small class="language-note">Language change applies only to Smart Loan Guide</small>
        </div>
      </section>
    </div>
  </main>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="footer-inner">
      <div class="footer-brand">
        <img src="images/logo.png" alt="AgriTech logo" class="footer-logo">
        <h3>AgriTech</h3>
        <p>Empowering India's Farming Future</p>
        <div class="social-media">
          <a href="https://instagram.com" target="_blank" aria-label="Follow us on Instagram">
            <i class="fab fa-instagram"></i>
          </a>
          <a href="https://github.com/omroy07" target="_blank" aria-label="View our GitHub repositories">
            <i class="fab fa-github"></i>
          </a>
          <a href="https://www.linkedin.com/in/om-roy-3b809628a/" target="_blank" aria-label="Connect with us on LinkedIn">
            <i class="fab fa-linkedin"></i>
          </a>
        </div>
      </div>
      <div class="footer-links">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="main.html">Dashboard</a></li>
          <li><a href="feed-back.html">Feedback</a></li>
          <li><a href="chat.html">AI Assistant</a></li>
        </ul>
      </div>
      <div class="footer-links">
        <h4>Tools</h4>
        <ul>
          <li><a href="/crop">Crop Recommendation</a></li>
          <li><a href="/yield">Yield Prediction</a></li>
          <li><a href="Disease prediction/template/index.html">Disease Detector</a></li>
          <li><a href="Crop_Planning/templates/cropplan.html">Crop Planner</a></li>
        </ul>
      </div>
    </div>
    <p style="margin-top: 2rem; opacity: 0.8">
      &copy; 2025 AgriTech | Empowering India's Farming Future üáÆüá≥
    </p>
  </footer>

  <!-- Floating Chatbot Button -->
  <a href="chat.html" id="chatbotBtn" title="Chat with us" aria-label="AI Assistant">
    <i class="fas fa-robot"></i>
  </a>

  <!-- JavaScript Files -->
  <script src="theme.js"></script>
  <script src="auth.js"></script>
  <script>
    // Mobile menu toggle
    function toggleMobileMenu() {
      const mobileMenu = document.getElementById('mobileMenu');
      mobileMenu.classList.toggle('active');
    }

    // Logout confirmation
    function showLogoutConfirmation() {
      Swal.fire({
        title: 'Confirm Logout',
        text: 'Are you sure you want to logout?',
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#d33',
        cancelButtonColor: '#3085d6',
        confirmButtonText: 'Yes, logout',
        cancelButtonText: 'Cancel'
      }).then((result) => {
        if (result.isConfirmed) {
          const logoutResult = window.authManager.logout();
          if (logoutResult.success) {
            Swal.fire({
              title: 'Logged Out!',
              text: logoutResult.message,
              icon: 'success',
              timer: 2000,
              showConfirmButton: false
            }).then(() => {
              window.location.href = 'index.html';
            });
          } else {
            Swal.fire({
              title: 'Error!',
              text: logoutResult.message,
              icon: 'error'
            });
          }
        }
      });
    }

    // Services menu toggle
    const servicesBtn = document.getElementById('servicesMenuBtn');
    const megaMenu = document.getElementById('servicesMegaMenu');
    const dropdownIcon = servicesBtn.querySelector('.dropdown-icon');

    servicesBtn.addEventListener('click', function (e) {
      e.stopPropagation();
      megaMenu.classList.toggle('active');
      dropdownIcon.classList.toggle('rotate');
    });

    document.addEventListener('click', function (e) {
      if (!megaMenu.contains(e.target) && !servicesBtn.contains(e.target)) {
        megaMenu.classList.remove('active');
        dropdownIcon.classList.remove('rotate');
      }
    });

    megaMenu.addEventListener('click', function (e) {
      e.stopPropagation();
    });

    // Loan Guide Language Selection
    document.getElementById('goLoanGuide').addEventListener('click', function (event) {
      event.preventDefault();
      const lang = document.getElementById('languageSelect').value;
      window.location.href = `smart_loan.html?lang=${lang}`;
    });

    // Check authentication
    document.addEventListener('DOMContentLoaded', () => {
      const currentUser = window.authManager.getCurrentUser();
      if (currentUser) {
        const headerTitle = document.querySelector('.brand h2');
        if (headerTitle) {
          headerTitle.textContent = `Welcome, ${currentUser.fullname}!`;
        }
      }
    });
  </script>
</body>
</html>